# NLP åˆ†æžæµç¨‹å›¾

## ðŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£æè¿°äº† Novel Writer Style CN é¡¹ç›®ä¸­ NLP ç®—æ³•é›†æˆçš„å®Œæ•´æµç¨‹ã€‚

**ç‰ˆæœ¬**: v0.22.0
**æ›´æ–°æ—¥æœŸ**: 2026-01-15

---

## ðŸ”„ å®Œæ•´å·¥ä½œæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           é£Žæ ¼å­¦ä¹ å®Œæ•´æµç¨‹                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  1. æ ·æœ¬å‡†å¤‡   â”‚  â”€â”€â–¶ â”‚  2. æ–‡æœ¬é¢„å¤„ç† â”‚  â”€â”€â–¶ â”‚  3. NLPåˆ†æž   â”‚
    â”‚              â”‚      â”‚              â”‚      â”‚              â”‚
    â”‚ æ”¶é›†ä½œå“æ ·æœ¬   â”‚      â”‚ novel        â”‚      â”‚ novel        â”‚
    â”‚              â”‚      â”‚ preprocess   â”‚      â”‚ analyze      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                       â”‚
                                                       â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  6. ä¸€è‡´æ€§æ£€æµ‹ â”‚  â—€â”€â”€ â”‚  5. AI åˆ›ä½œ   â”‚  â—€â”€â”€ â”‚  4. é£Žæ ¼å­¦ä¹   â”‚
    â”‚              â”‚      â”‚              â”‚      â”‚              â”‚
    â”‚ novel        â”‚      â”‚ /write-styledâ”‚      â”‚ /style-learn â”‚
    â”‚ check-style  â”‚      â”‚              â”‚      â”‚              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### CLI å‘½ä»¤ä¸Ž AI å‘½ä»¤å¯¹ç…§

| é˜¶æ®µ | CLI å‘½ä»¤ | AI æ–œæ å‘½ä»¤ | è¯´æ˜Ž |
|------|---------|------------|------|
| æ–‡æœ¬é¢„å¤„ç† | `novel preprocess` | - | æ¸…ç†æ ·æœ¬æ–‡æœ¬ |
| NLP åˆ†æž | `novel analyze` | - | åˆ†æžæ–‡æœ¬ç‰¹å¾ |
| é£Žæ ¼å­¦ä¹  | - | `/style-learn` | AI å­¦ä¹ é£Žæ ¼ |
| é£Žæ ¼åŒ–åˆ›ä½œ | - | `/write-styled` | AI é£Žæ ¼åŒ–å†™ä½œ |
| ä¸€è‡´æ€§æ£€æµ‹ | `novel check-style` | `/style-validate` | éªŒè¯é£Žæ ¼ä¸€è‡´æ€§ |

### AI æ–œæ å‘½ä»¤æ ¼å¼

> âš ï¸ **é‡è¦**ï¼šAI æ–œæ å‘½ä»¤æ ¼å¼å› å¹³å°è€Œå¼‚ï¼š

| AI å¹³å° | å‘½ä»¤æ ¼å¼ | ç¤ºä¾‹ |
|---------|----------|------|
| **Claude Code** | `/novel.å‘½ä»¤å` | `/novel.style-learn` |
| **Gemini CLI** | `/novel:å‘½ä»¤å` | `/novel:style-learn` |
| **Cursor/Windsurf** | `/å‘½ä»¤å` | `/style-learn` |
| **Codex CLI** | `/novel-å‘½ä»¤å` | `/novel-style-learn` |

---

## ðŸ“ é˜¶æ®µ 1: æ–‡æœ¬é¢„å¤„ç† (TextPreprocessor)

```
åŽŸå§‹æ ·æœ¬æ–‡æœ¬
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TextPreprocessor.preprocess()      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚        â”‚        â”‚        â”‚        â”‚
    â–¼        â–¼        â–¼        â–¼        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚ç§»é™¤  â”‚ â”‚ç§»é™¤  â”‚ â”‚è§„èŒƒåŒ–â”‚ â”‚ç»Ÿä¸€  â”‚ â”‚ç§»é™¤  â”‚
â”‚ç›®å½•  â”‚ â”‚é¡µç   â”‚ â”‚ç« èŠ‚  â”‚ â”‚æ ‡ç‚¹  â”‚ â”‚ç©ºç™½  â”‚
â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è´¨é‡è¯„ä¼° assessQuality()            â”‚
â”‚  - ä¸­æ–‡å æ¯”æ£€æŸ¥                       â”‚
â”‚  - æ ‡ç‚¹å æ¯”æ£€æŸ¥                       â”‚
â”‚  - ç©ºç™½å æ¯”æ£€æŸ¥                       â”‚
â”‚  - é‡å¤è¡Œæ£€æŸ¥                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¾“å‡º: æ¸…ç†åŽæ–‡æœ¬ + è´¨é‡è¯„åˆ†           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**CLI å‘½ä»¤**:
```bash
# åŸºç¡€é¢„å¤„ç†
novel preprocess samples/jinyong.txt

# é¢„å¤„ç†å¹¶è¾“å‡ºåˆ°æ–‡ä»¶
novel preprocess samples/jinyong.txt -o samples/jinyong-clean.txt

# é¢„å¤„ç†å¹¶è¯„ä¼°è´¨é‡
novel preprocess samples/jinyong.txt --quality
```

**è¾“å‡ºç¤ºä¾‹**:
```
ðŸ“ é¢„å¤„ç†ç»“æžœ

  åŽŸå§‹é•¿åº¦: 50000 å­—ç¬¦
  å¤„ç†åŽé•¿åº¦: 42500 å­—ç¬¦
  å‡å°‘æ¯”ä¾‹: 15.00%

å¤„ç†æ­¥éª¤:
  âœ“ ç§»é™¤ç›®å½•å†…å®¹: 2500 å­—ç¬¦
  âœ“ ç§»é™¤é¡µç : 500 å­—ç¬¦
  âœ“ è§„èŒƒåŒ–ç« èŠ‚æ ‡é¢˜
  âœ“ ç»Ÿä¸€æ ‡ç‚¹ç¬¦å·ä¸ºå…¨è§’
  âœ“ ç§»é™¤å¤šä½™ç©ºç™½: 4500 å­—ç¬¦

è´¨é‡è¯„ä¼°:
  å¾—åˆ†: 85/100 (è‰¯å¥½)
```

---

## ðŸ“Š é˜¶æ®µ 2: NLP åˆ†æž (NLPAnalyzer)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      é¢„å¤„ç†åŽæ–‡æœ¬                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   NLPAnalyzer                                â”‚
â”‚                  (ä¸»åˆ†æžå™¨)                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚           â”‚           â”‚
         â–¼           â–¼           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Vocabulary   â”‚ â”‚   Syntax     â”‚ â”‚  Sentiment   â”‚
â”‚  Analyzer    â”‚ â”‚  Analyzer    â”‚ â”‚  Analyzer    â”‚
â”‚ (è¯æ±‡åˆ†æž)    â”‚ â”‚ (å¥æ³•åˆ†æž)    â”‚ â”‚ (æƒ…æ„Ÿåˆ†æž)    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                â”‚                â”‚
       â–¼                â–¼                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¯é¢‘ç»Ÿè®¡      â”‚ â”‚ å¥é•¿åˆ†æž      â”‚ â”‚ æƒ…æ„Ÿå¾—åˆ†      â”‚
â”‚ é«˜é¢‘è¯æå–    â”‚ â”‚ æ ‡ç‚¹ç»Ÿè®¡      â”‚ â”‚ æƒ…æ„Ÿå€¾å‘      â”‚
â”‚ TTRè®¡ç®—      â”‚ â”‚ å¥å¼åˆ†å¸ƒ      â”‚ â”‚ è¯æ±‡åˆ†ç±»      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                â”‚                â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç»¼åˆåˆ†æžç»“æžœ                               â”‚
â”‚  { vocabulary: {...}, syntax: {...}, sentiment: {...} }     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**CLI å‘½ä»¤**:
```bash
# åŸºç¡€åˆ†æž
novel analyze samples/jinyong-clean.txt

# è¯¦ç»†åˆ†æžï¼ˆæ˜¾ç¤ºé«˜é¢‘è¯ï¼‰
novel analyze samples/jinyong-clean.txt --verbose

# åˆ†æžå¹¶å¯¼å‡º JSON
novel analyze samples/jinyong-clean.txt -o analysis.json --verbose
```

**è¾“å‡ºç¤ºä¾‹**:
```
ðŸ“Š NLP åˆ†æžç»“æžœ

è¯æ±‡åˆ†æž:
  æ€»è¯æ•°: 12500
  å”¯ä¸€è¯æ•°: 4800
  è¯æ±‡ä¸°å¯Œåº¦ (TTR): 38.4%

å¥æ³•åˆ†æž:
  æ€»å¥æ•°: 680
  å¹³å‡å¥é•¿: 18.4 å­—

æƒ…æ„Ÿåˆ†æž:
  æƒ…æ„Ÿå€¾å‘: neutral
  æƒ…æ„Ÿå¾—åˆ†: 0.12

é«˜é¢‘è¯æ±‡ (Top 10):
  1. éƒ­é–
  2. é»„è“‰
  3. æ­¦åŠŸ
  4. æ±Ÿæ¹–
  ...
```

---

### 2. å¥æ³•åˆ†æžæµç¨‹ (SyntaxAnalyzer)

```
è¾“å…¥æ–‡æœ¬
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¥å­åˆ‡åˆ†        â”‚  æŒ‰æ ‡ç‚¹ç¬¦å·åˆ‡åˆ†
â”‚  splitSentences()â”‚ â†’ ["å¥å­1", "å¥å­2", ...]
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                  â”‚
         â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¥é•¿ç»Ÿè®¡        â”‚  â”‚  æ ‡ç‚¹åˆ†æž        â”‚
â”‚  - å¹³å‡å€¼        â”‚  â”‚  - é€—å·é¢‘çŽ‡      â”‚
â”‚  - æ ‡å‡†å·®        â”‚  â”‚  - å¥å·é¢‘çŽ‡      â”‚
â”‚  - åˆ†å¸ƒæ¯”ä¾‹      â”‚  â”‚  - å…¶ä»–æ ‡ç‚¹      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è¾“å‡ºç»“æžœ**:
```javascript
{
  sentenceCount: 5,
  avgSentenceLength: 18.6,
  lengthDistribution: {
    short: 0.2,   // çŸ­å¥ â‰¤10å­—
    medium: 0.6,  // ä¸­å¥ 11-25å­—
    long: 0.2     // é•¿å¥ >25å­—
  },
  punctuationStyle: {
    "ï¼Œ": 0.44,
    "ã€‚": 0.56
  }
}
```

---

### 3. æƒ…æ„Ÿåˆ†æžæµç¨‹ (SentimentAnalyzer)

```
è¾“å…¥æ–‡æœ¬
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æƒ…æ„Ÿè¯å…¸åŒ¹é…    â”‚  æ­£é¢è¯ + è´Ÿé¢è¯
â”‚  - æ­£é¢è¯æ±‡      â”‚  â†’ ç»Ÿè®¡å‡ºçŽ°æ¬¡æ•°
â”‚  - è´Ÿé¢è¯æ±‡      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æƒ…æ„Ÿå¾—åˆ†è®¡ç®—    â”‚  score = (æ­£é¢-è´Ÿé¢)/æ€»æ•°
â”‚  (-1 åˆ° +1)     â”‚  â†’ 0.0 (ä¸­æ€§)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æƒ…æ„Ÿå€¾å‘åˆ¤æ–­    â”‚
â”‚  - positive     â”‚  score > 0.3
â”‚  - negative     â”‚  score < -0.3
â”‚  - neutral      â”‚  -0.3 â‰¤ score â‰¤ 0.3
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è¾“å‡ºç»“æžœ**:
```javascript
{
  sentimentScore: 0.0,
  emotionalTone: "neutral",
  positiveWords: 3,
  negativeWords: 3
}
```

---

## ðŸ”— é£Žæ ¼å­¦ä¹ é›†æˆæµç¨‹

```
æ ·æœ¬æ–‡ä»¶ (samples/jinyong.txt)
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  StyleLearningIntegration           â”‚
â”‚  learnStyleFromFile()               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¯»å–æ–‡ä»¶å†…å®¹                         â”‚
â”‚  fs.readFileSync()                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  NLP åˆ†æž                            â”‚
â”‚  nlpAnalyzer.analyze(text)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç”Ÿæˆé£Žæ ¼é…ç½®                         â”‚
â”‚  generateStyleConfig()              â”‚
â”‚  - è¯æ±‡ç‰¹å¾                          â”‚
â”‚  - å¥æ³•ç‰¹å¾                          â”‚
â”‚  - æƒ…æ„Ÿç‰¹å¾                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç½®ä¿¡åº¦è®¡ç®—                           â”‚
â”‚  confidenceCalculator.calculate()   â”‚
â”‚  - æ ·æœ¬é‡å……è¶³åº¦ (S)                   â”‚
â”‚  - ç‰¹å¾ä¸€è‡´æ€§ (C)                     â”‚
â”‚  - é£Žæ ¼ç‹¬ç‰¹æ€§ (U)                     â”‚
â”‚  - æ•°æ®å®Œæ•´æ€§ (D)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é£Žæ ¼é…ç½®å¯¹è±¡                         â”‚
â”‚  { styleName, vocabulary, syntax,   â”‚
â”‚    sentiment, confidence,           â”‚
â”‚    confidenceLevel, breakdown }     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸŽ¯ ç½®ä¿¡åº¦è®¡ç®—æµç¨‹ (ConfidenceCalculator)

### è®¡ç®—æ¨¡åž‹

```
æ ·æœ¬æ•°æ® + é£Žæ ¼é…ç½®
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ConfidenceCalculator.calculate()   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚        â”‚        â”‚        â”‚
    â–¼        â–¼        â–¼        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚  S   â”‚ â”‚  C   â”‚ â”‚  U   â”‚ â”‚  D   â”‚
â”‚æ ·æœ¬é‡â”‚ â”‚ä¸€è‡´æ€§â”‚ â”‚ç‹¬ç‰¹æ€§â”‚ â”‚å®Œæ•´æ€§â”‚
â””â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”€â”˜
   â”‚        â”‚        â”‚        â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
    Confidence = 0.3S + 0.4C + 0.2U + 0.1D
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç½®ä¿¡åº¦ç»“æžœ                           â”‚
â”‚  - overall: ç»¼åˆå¾—åˆ† (0-1)            â”‚
â”‚  - level: ç­‰çº§ (ä¼˜ç§€/è‰¯å¥½/ä¸€èˆ¬/è¾ƒä½Ž)   â”‚
â”‚  - breakdown: å„ç»´åº¦å¾—åˆ†              â”‚
â”‚  - details: è¯¦ç»†è¯´æ˜Ž                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å››ç»´åº¦è¯„åˆ†è¯¦è§£

**1. æ ·æœ¬é‡å……è¶³åº¦ (S) - æƒé‡ 30%**
```
if wordCount < 10,000:
    S = (wordCount / 10,000) Ã— 0.5
elif wordCount < 50,000:
    S = 0.5 + (wordCount - 10,000) / 40,000 Ã— 0.3
else:
    S = min(0.8 + (wordCount - 50,000) / 100,000 Ã— 0.2, 1.0)
```

**2. ç‰¹å¾ä¸€è‡´æ€§ (C) - æƒé‡ 40%**
```
vocabScore = min(vocabularyRichness / 0.9, 1.0)
syntaxScore = max(0, 1 - stdDeviation / 20)
C = (vocabScore + syntaxScore) / 2
```

**3. é£Žæ ¼ç‹¬ç‰¹æ€§ (U) - æƒé‡ 20%**
```
å¯¹æ¯”å‚è€ƒé£Žæ ¼åˆ—è¡¨ï¼Œè®¡ç®—ç‰¹å¾è·ç¦»
U = min(minDistance Ã— 2, 1.0)
æ— å‚è€ƒé£Žæ ¼æ—¶é»˜è®¤ 0.7
```

**4. æ•°æ®å®Œæ•´æ€§ (D) - æƒé‡ 10%**
```
æ£€æŸ¥å¿…éœ€å­—æ®µï¼š
- vocabulary.topWords
- vocabulary.vocabularyRichness
- syntax.avgSentenceLength
- syntax.lengthDistribution
- sentiment.emotionalTone

D = completedFields / totalFields
```

---

## ðŸŽ¯ é˜¶æ®µ 6: ä¸€è‡´æ€§æ£€æµ‹ (ConsistencyChecker)

```
åˆ›ä½œæ–‡æœ¬ + ç›®æ ‡é£Žæ ¼é…ç½®
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ConsistencyChecker.checkConsistency()â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚        â”‚        â”‚        â”‚
    â–¼        â–¼        â–¼        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚è¯æ±‡  â”‚ â”‚å¥æ³•  â”‚ â”‚æƒ…æ„Ÿ  â”‚ â”‚èŠ‚å¥  â”‚
â”‚åŒ¹é…  â”‚ â”‚åŒ¹é…  â”‚ â”‚åŒ¹é…  â”‚ â”‚åŒ¹é…  â”‚
â”‚30%   â”‚ â”‚30%   â”‚ â”‚20%   â”‚ â”‚20%   â”‚
â””â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”€â”˜
   â”‚        â”‚        â”‚        â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç»¼åˆä¸€è‡´æ€§å¾—åˆ†                        â”‚
â”‚  Overall = VÃ—0.3 + SÃ—0.3 + EÃ—0.2 + RÃ—0.2â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¾“å‡ºç»“æžœ                             â”‚
â”‚  - overall: ç»¼åˆå¾—åˆ† (0-100%)         â”‚
â”‚  - overallLevel: ç­‰çº§                 â”‚
â”‚  - dimensions: å„ç»´åº¦è¯¦æƒ…             â”‚
â”‚  - suggestions: æ”¹è¿›å»ºè®®              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**CLI å‘½ä»¤**:
```bash
# åŸºç¡€ä¸€è‡´æ€§æ£€æµ‹
novel check-style my-chapter.txt memory/styles/é‡‘åº¸é£Žæ ¼.json

# æ£€æµ‹å¹¶å¯¼å‡ºç»“æžœ
novel check-style my-chapter.txt memory/styles/é‡‘åº¸é£Žæ ¼.json -o result.json
```

**è¾“å‡ºç¤ºä¾‹**:
```
ðŸŽ¯ é£Žæ ¼ä¸€è‡´æ€§æ£€æµ‹ç»“æžœ

  æ€»ä½“å¾—åˆ†: 78.5% (åŸºæœ¬ä¸€è‡´)

å„ç»´åº¦å¾—åˆ†:
  è¯æ±‡åŒ¹é…: 72.3%
  å¥æ³•åŒ¹é…: 85.6%
  æƒ…æ„ŸåŒ¹é…: 80.0%
  èŠ‚å¥åŒ¹é…: 76.2%

æ”¹è¿›å»ºè®®:
  - è¯æ±‡è¿‡äºŽå¤æ‚ï¼Œå»ºè®®ä½¿ç”¨æ›´å¸¸è§çš„è¡¨è¾¾
  - å»ºè®®å‚è€ƒç›®æ ‡é£Žæ ¼çš„é«˜é¢‘è¯æ±‡
```

### å››ç»´åº¦è¯„åˆ†è¯¦è§£

**1. è¯æ±‡åŒ¹é…åº¦ (V) - æƒé‡ 30%**
- è¯æ±‡ä¸°å¯Œåº¦å·®å¼‚ (40%)
- é«˜é¢‘è¯é‡å åº¦ (60%)

**2. å¥æ³•åŒ¹é…åº¦ (S) - æƒé‡ 30%**
- å¹³å‡å¥é•¿å·®å¼‚ (50%)
- å¥é•¿åˆ†å¸ƒç›¸ä¼¼åº¦ (50%)

**3. æƒ…æ„ŸåŒ¹é…åº¦ (E) - æƒé‡ 20%**
- æƒ…æ„Ÿå€¾å‘ä¸€è‡´æ€§ (60%)
- æƒ…æ„Ÿå¾—åˆ†å·®å¼‚ (40%)

**4. èŠ‚å¥åŒ¹é…åº¦ (R) - æƒé‡ 20%**
- å¥é•¿æ ‡å‡†å·®å·®å¼‚

### ä¸€è‡´æ€§ç­‰çº§

| å¾—åˆ†èŒƒå›´ | ç­‰çº§ | è¯´æ˜Ž |
|---------|------|------|
| â‰¥90% | é«˜åº¦ä¸€è‡´ | é£Žæ ¼é«˜åº¦è¿˜åŽŸ |
| 75-89% | åŸºæœ¬ä¸€è‡´ | ä¸»è¦ç‰¹å¾åŒ¹é… |
| 60-74% | éƒ¨åˆ†ä¸€è‡´ | éœ€è¦è°ƒæ•´ |
| 40-59% | ä¸€è‡´æ€§è¾ƒä½Ž | æ˜Žæ˜¾å·®å¼‚ |
| <40% | ä¸€è‡´æ€§å¾ˆä½Ž | éœ€è¦é‡å†™ |

---

## ðŸ“ˆ æ€§èƒ½æŒ‡æ ‡

### å¤„ç†é€Ÿåº¦

| æ–‡æœ¬å¤§å° | å¤„ç†æ—¶é—´ | åžåé‡ |
|---------|---------|--------|
| 1,000å­— | 9ms | 111,111 å­—/ç§’ |
| 5,000å­— | 27ms | 185,185 å­—/ç§’ |
| 10,000å­— | 57ms | 175,439 å­—/ç§’ |

### å†…å­˜å ç”¨

- åŸºç¡€å†…å­˜: ~50MB
- å¤„ç† 10,000 å­—: ~80MB
- å³°å€¼å†…å­˜: <200MB

---

## ðŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: åŸºç¡€åˆ†æž

```javascript
import NLPAnalyzer from './dist/utils/nlp-analyzer.js';

const analyzer = new NLPAnalyzer();
const text = 'è¿™æ˜¯ä¸€æ®µæµ‹è¯•æ–‡æœ¬ã€‚åŒ…å«å¤šä¸ªå¥å­ã€‚';

const result = analyzer.analyze(text);
console.log(result);
```

### ç¤ºä¾‹ 2: ç”ŸæˆæŠ¥å‘Š

```javascript
const analyzer = new NLPAnalyzer();
const result = analyzer.analyze(text);
const report = analyzer.generateReport(result);

console.log(report);
// è¾“å‡ºæ ¼å¼åŒ–çš„ Markdown æŠ¥å‘Š
```

### ç¤ºä¾‹ 3: é£Žæ ¼å­¦ä¹ 

```javascript
import StyleLearningIntegration from './dist/utils/style-learning-integration.js';

const integration = new StyleLearningIntegration();
const styleConfig = await integration.learnStyleFromFile(
  'samples/jinyong.txt',
  'é‡‘åº¸é£Žæ ¼'
);

console.log(`ç½®ä¿¡åº¦: ${(styleConfig.confidence * 100).toFixed(1)}%`);
```

---

## ðŸ”§ æŠ€æœ¯ç»†èŠ‚

### ä¾èµ–åº“

- **segment**: ä¸­æ–‡åˆ†è¯
  - ç‰ˆæœ¬: 0.1.3
  - ç±»åž‹: çº¯ JavaScript
  - ä¼˜åŠ¿: æ— éœ€ç¼–è¯‘ï¼Œè·¨å¹³å°

- **mathjs**: æ•°å­¦è®¡ç®—
  - ç‰ˆæœ¬: 15.1.0
  - ç”¨é€”: ç»Ÿè®¡åˆ†æžï¼ˆå‡å€¼ã€æ ‡å‡†å·®ç­‰ï¼‰

### ç®—æ³•å¤æ‚åº¦

- åˆ†è¯: O(n)
- è¯é¢‘ç»Ÿè®¡: O(n)
- å¥æ³•åˆ†æž: O(n)
- æƒ…æ„Ÿåˆ†æž: O(n Ã— m)ï¼Œm ä¸ºè¯å…¸å¤§å°

**æ€»ä½“å¤æ‚åº¦**: O(n)ï¼Œçº¿æ€§æ—¶é—´

---

## ðŸ“š ç›¸å…³æ–‡æ¡£

- [CHANGELOG.md](../CHANGELOG.md) - ç‰ˆæœ¬æ›´æ–°æ—¥å¿—
- [README.md](../README.md) - é¡¹ç›®è¯´æ˜Ž
- [å®žæ–½æŠ¥å‘Š](../plan/implementation-report-nlp.md) - è¯¦ç»†å®žæ–½æŠ¥å‘Š

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**æœ€åŽæ›´æ–°**: 2026-01-15
